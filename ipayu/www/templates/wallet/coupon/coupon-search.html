<div id="sp-page"  style="overflow-x:hidden">
<div class="page-main-header shop-page-main-header"></div>
<div id="sp-nav" class="animated fading-menu" 
    ng-class="{'sp-nav-bg fadeIn' : hasBG, 'display-none' : !menuDisplayed}"
         ng-swipe-left="menuSwipeLeft()" >

    <menu style="width:80%;height:100%;background:#fff;"
        class="animated" 
        ng-class="{'slideInLeft': showMenu, 'slideOutLeft' : !showMenu}" ></menu> 

</div>
    <ul class="nav nav-tabs page-menu-top coupon-nav">
        <li class="col-xs-4 no-padding">
            <button back>
                <img src="images/back-btn.png" class="back-button-header-img">
            </button>
            <button ng-click="toggleMenu()">
             <img src="images/menubar.png" >
            </button>
        </li>

        <li class="col-xs-4"> 
           <p class="bold header-title-wallet">
                Coupon&nbsp;cards
            </p>
        </li>

       <li class="col-xs-4 pull-right no-padding-right">
            <button ng-click="toggleShowCountry()" id="flags-nav">
                <img ng-src="{{'images/flags/'+countryDisplay.flag}}">
                <span>{{countryDisplay.name}}</span> 
                    <ul ng-if="countryDisplay.display"
                        class="flagHeader">

                            <li ng-repeat="c in headerCountries" 
                                ng-click="selectCountry(c)"> 
                                <img ng-src="images/flags/{{c.img}}"> 
                                    {{c.code}}
                            </li>
                        </ul>
            </button>
             <button class="btn-top-with-flag" ui-sref="dashboard">
                <img src="images/home-header.png" class="img img-responsive" style="height:26px" id="gohomebtn">
             </button >
        </li>
    </ul>

<div class="row">
    <div class="container">
        <div class=" page-header dark-bg dark-bg-shop">
            <p class="feature-mall-title">FEATURED MALLS AND SHOPS</p>
        </div>

        <div class="container mall-search-featured-malls featured-shops custom-slider">

                <div class="animated cs-image-holder-featured col-xs-3 col-md-3  shop-search-icons fadeIn" style="float:none;" ng-repeat="feat in featured"
                    ng-click="proceedCouponCardList(feat.asset_id, feat.shop_id)">
                    <img ng-src="{{feat.image}}" class="img img-responsive featured-malls-mall">
                    <p class="featured-malls-mall-name" ng-bind="feat.name"></p>
                </div>
                <center><h4 ng-if="featCoupon.length == 0">Nothing to display</h4></center>

        </div>
    </div>
</div>

<div class="row">



    <div class="container mall-search-unfeatured-malls" ng-repeat="shop in unfeatured | limitTo:2" >
       
        <div class="animated col-xs-3 col-md-3 unfeatured-malls unfeatured-shops fadeIn" ng-repeat="s in shop" >
            <div ng-if="s != false"
                 ng-click="proceedCouponCardList(s.asset_id, s.shop_id)">
                <img ng-src="{{s.image}}" class="img img-responsive featured-malls-mall featured-shops-shop">
                <p class="featured-malls-mall-name unfeatured-mall-name" ng-bind="s.name"></p>
            </div>
            <div ng-if="!s" ng-click="moreIsClicked()">
                <img src="images/shopcard-icons/more.png" class="img img-responsive  shop-search-icon-cat" 
                    style="height: 40px;background-color: transparent; width: 40px; margin-top: 14px;">
            </div>

        </div>

    </div>
    
    <div class="container mall-search-unfeatured-malls">
        <center><h4 ng-if="!unfeatured[0][0].image">Nothing to display</h4></center>
    </div>
<!-- 

    <div class="container mall-search-unfeatured-malls ">

            <div class="col-xs-3 col-md-3 unfeatured-malls unfeatured-shops animated fadeIn" 
                ng-repeat="un in unfeatured" 
                ng-click="proceedCouponCardList(un.asset_id)">
                <img ng-src="{{un.image}}" class="img img-responsive featured-malls-mall">
                <p class="featured-malls-mall-name unfeatured-mall-name" ng-bind="un.name"></p>
            </div>
            <center><h4 ng-if="unfeatured.length == 0">Nothing to display</h4></center>

    </div> -->

</div>

     

<div class="row">

    <div class="container">

        <div class="container shop-search-categories">
            <div class="col-xs-3 col-md-3  shop-search-icons animated flipInX" 
                ng-repeat="topCat in couponCategories | limitTo:4" 
                ng-click="selectCategory(topCat.category_name)">

                <img ng-src="{{topCat.image}}" class="img img-responsive shop-search-icon-cat coupon-cat"
                    ng-class="{'coupon-search-icon-cat-active':topCat.selected}">
                 <span class="category-label-text">{{topCat.category_name}}</span>
            </div>

        </div>

        <div class="container shop-search-categories-2">
            <div class="col-xs-3 col-md-3  shop-search-icons animated flipInX" 
                    ng-repeat="bottomCat in couponCategories" 
                    ng-if="$index > 3"
                    ng-click="selectCategory(bottomCat.category_name)">

                <img ng-src="{{bottomCat.image}}" class="img img-responsive shop-search-icon-cat coupon-cat"
                    ng-class="{'coupon-search-icon-cat-active':bottomCat.selected}">
            <span class="category-label-text">{{bottomCat.category_name}}</span>
            </div>

            <div class="animated col-xs-3 col-md-3  shop-search-icons flipInX" ng-click="gotoCouponAllCards()">

              <img src="images/Search_icon_transparent.png" class="img img-responsive shop-search-icon-cat" style="background-color:transparent">
                <span class="category-label-text" style="color:black">SEARCH</span>
            </div>



        </div>

       </div>

    </div>

    <coupon-footer-menu></coupon-footer-menu>
    
</div>